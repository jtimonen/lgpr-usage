<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Posterior predictions and function posteriors — pred • lgpr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Posterior predictions and function posteriors — pred" />
<meta property="og:description" content="

If fit is for a model that marginalizes the latent
  signal f (i.e. is_f_sampled(fit) is FALSE), this
  computes the analytic conditional posterior
  distributions of each model component, their sum, and the conditional
  predictive distribution. All these are computed for
  each (hyper)parameter draw (defined by draws), or other parameter
  set (obtained by a reduction defined by reduce). Results are stored
  in a GaussianPrediction object which is then returned.
If fit is for a model that samples the latent
  signal f (i.e. is_f_sampled(fit) is TRUE), this will
  extract these function samples, compute their sum, and a version of the
  sum f that is transformed through the inverse link function.
  If x is not NULL, the function draws are extrapolated
  to the points specified by x using kernel regression.
  Results are stored in a Prediction
  object which is then returned.

" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">lgpr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/lgpr-package.html">Overview</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../tutorials/basic.html">Basic usage</a>
    </li>
    <li>
      <a href="../tutorials/heter.html">Heterogeneous effects</a>
    </li>
    <li>
      <a href="../tutorials/uncrt.html">Temporally uncertain effects</a>
    </li>
    <li>
      <a href="../tutorials/bb.html">Discrete observation model</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/math.html">Mathematical description of lgpr models</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Documentation</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/math.html">Mathematical description of lgpr models</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Posterior predictions and function posteriors</h1>
    <small class="dont-index">Source: <a href='https://github.com/jtimonen/lgpr/blob/master/R/main-pred.R'><code>R/main-pred.R</code></a></small>
    <div class="hidden name"><code>pred.Rd</code></div>
    </div>

    <div class="ref-description">
    
<ul>
<li><p>If <code>fit</code> is for a model that marginalizes the latent
  signal <code>f</code> (i.e. <code><a href='s4_generics.html'>is_f_sampled(fit)</a></code> is <code>FALSE</code>), this
  computes the analytic conditional posterior
  distributions of each model component, their sum, and the conditional
  predictive distribution. All these are computed for
  each (hyper)parameter draw (defined by <code>draws</code>), or other parameter
  set (obtained by a reduction defined by <code>reduce</code>). Results are stored
  in a <a href='GaussianPrediction-class.html'>GaussianPrediction</a> object which is then returned.</p></li>
<li><p>If <code>fit</code> is for a model that samples the latent
  signal <code>f</code> (i.e. <code><a href='s4_generics.html'>is_f_sampled(fit)</a></code> is <code>TRUE</code>), this will
  extract these function samples, compute their sum, and a version of the
  sum <code>f</code> that is transformed through the inverse link function.
  If <code>x</code> is not <code>NULL</code>, the function draws are extrapolated
  to the points specified by <code>x</code> using kernel regression.
  Results are stored in a <a href='Prediction-class.html'>Prediction</a>
  object which is then returned.</p></li>
</ul>

    </div>

    <pre class="usage"><span class='fu'>pred</span><span class='op'>(</span>
  <span class='va'>fit</span>,
  x <span class='op'>=</span> <span class='cn'>NULL</span>,
  reduce <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='fu'>base</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>,
  draws <span class='op'>=</span> <span class='cn'>NULL</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>,
  STREAM <span class='op'>=</span> <span class='fu'>get_stream</span><span class='op'>(</span><span class='op'>)</span>,
  c_hat_pred <span class='op'>=</span> <span class='cn'>NULL</span>,
  force <span class='op'>=</span> <span class='cn'>FALSE</span>,
  debug_kc <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>fit</th>
      <td><p>An object of class <a href='lgpfit-class.html'>lgpfit</a>.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>A data frame of points where function posterior distributions
and predictions should be computed or sampled.
The function <code><a href='new_x.html'>new_x</a></code> provides an easy way to create it.
If this is <code>NULL</code>, the data points are used.</p></td>
    </tr>
    <tr>
      <th>reduce</th>
      <td><p>Reduction for parameters draws. Can be a function that
is applied to reduce all parameter draws into one parameter set, or
<code>NULL</code> (no reduction). Has no effect if <code>draws</code> is specified.</p></td>
    </tr>
    <tr>
      <th>draws</th>
      <td><p>Indices of parameter draws to use, or <code>NULL</code> to use all
draws.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Should more information and a possible progress bar be
printed?</p></td>
    </tr>
    <tr>
      <th>STREAM</th>
      <td><p>External pointer. By default obtained with
<code><a href='https://mc-stan.org/rstan/reference/expose_stan_functions.html'>rstan::get_stream()</a></code>.</p></td>
    </tr>
    <tr>
      <th>c_hat_pred</th>
      <td><p>This is only used if the latent signal <code>f</code> was
sampled. This input contains the values added to the sum <code>f</code> before
passing through inverse link function. Must be a vector with length equal to
the number of prediction points. If original <code>c_hat</code> was constant,
then <code>c_hat_pred</code> can be ignored, in which case this will by default
use the same constant.</p></td>
    </tr>
    <tr>
      <th>force</th>
      <td><p>This is by default <code>FALSE</code> to prevent unintended
large computations that might crash R or take forever. Set it to <code>TRUE</code>
try computing no matter what.</p></td>
    </tr>
    <tr>
      <th>debug_kc</th>
      <td><p>If this is <code>TRUE</code>, this only returns a
<a href='KernelComputer-class.html'>KernelComputer</a> object that is created internally. Meant for
debugging.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <a href='GaussianPrediction-class.html'>GaussianPrediction</a> or
<a href='Prediction-class.html'>Prediction</a>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other main functions: 
<code><a href='create_model.html'>create_model</a>()</code>,
<code><a href='draw_pred.html'>draw_pred</a>()</code>,
<code><a href='get_draws.html'>get_draws</a>()</code>,
<code><a href='lgp.html'>lgp</a>()</code>,
<code><a href='prior_pred.html'>prior_pred</a>()</code>,
<code><a href='sample_model.html'>sample_model</a>()</code></p></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Juho Timonen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


